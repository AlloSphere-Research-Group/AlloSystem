
…being a wrapping of the OpenNI natural interaction libraries to allocore (and thus, the use of Kinect and similar devices therein)…



OSX INSTALL NOTES
=================

I followed the instructions here for Linux (http://www.keyboardmods.com/2010/12/howto-kinect-openninite-skeleton.html) which basically worked. 

First you need to install some libraries, which on OSX can only be installed via macports (on Linux they can be got through apt-get)

See the instructions here:
https://github.com/OpenNI/OpenNI/blob/unstable/README
Specifically:
Requirements:
		1) Xcode 3.2.5
		   From: http://developer.apple.com/devcenter/mac/index.action
		   https://developer.apple.com/ios/download.action?path=/ios/ios_sdk_4.2__final/xcode_3.2.5_and_ios_sdk_4.2_final.dmg
		   Please note that you need to register as a mac developer (It's free!).
		2) MacPorts
		   From: http://www.macports.org/install.php
		   http://distfiles.macports.org/MacPorts/MacPorts-1.9.2-10.6-SnowLeopard.dmg
		3) LibTool
		   Installed vis MacPorts: 
		   sudo port install libtool +universal
		4) LibUSB 1.0.8 (The patched development tree)
		   Installed vis MacPorts:
		   sudo port install libusb-devel +universal
		   Note: Do not forget the +universal, it's very important!!
		         If you're previously already installed libusb-devel then use "sudo port uninstall libusb-devel" and reinstall it again with the +universal flag.

Then you need 3 downloads from OpenNI site: OpenNI fron-end, NITE middleware, and Sensor hardware binaries. For mac, currently only the unstable branch works. Download these and unzip them:

Download front-end:
http://www.openni.org/downloadfiles/openni-binaries/20-latest-unstable

cd OpenNI-Bin-MacOSX-v1.0.0.25/
cd 

edit the xml files in /Data as follows (replace the contents of the existing lines) (case sensitive):

	<License vendor="PrimeSense" key="0KOIk2JeIBYClPWVnMoRKn5cdY4="/>
	<MapOutputMode xRes="640" yRes="480" FPS="30"/>

Also edit OpenNI.../Samples/Config/SamplesConfig.xml in the same way

OpenNI's Sensor module was not working for Kinect, so I downloaded the one from here:
https://github.com/avin2/SensorKinect/tree/unstable/Bin
See the readme: https://github.com/avin2/SensorKinect/blob/unstable/README

cd SensorKinect-MacOSX-5.0.0
sudo ./install.sh 


Download middleware:
http://www.openni.org/downloadfiles/openni-compliant-middleware-binaries/33-latest-unstable

cd Nite-1.3.0.18/
sudo ./install.sh
The PrimeSense license key is 0KOIk2JeIBYClPWVnMoRKn5cdY4=



To make sure it's working:

cd OpenNI-Bin-MacOSX-v1.0.0.25/Samples/Bin/Release/
./NiViewer

For me it takes about 10 seconds to start, and prints a message:
Warning: USB events thread - failed to set priority. This might cause loss of data...



Now to actually use it, you need to link to libOpenNI.dylib, but they installed it in /usr/lib which isn't very mac friendly. So I copied it from /usr/lib to my own source tree. The headers are in /usr/include/ni







