#=========================================================================
# AlloCore main makefile configuration
#=========================================================================

LIB_NAME	= allocore

include Makefile.common

BIG_ENDIAN	= 0
AUDIO_BINDING	= PortAudio
WINDOW_BINDING	= GLUT
RUNTIME_BINDING	= APR
IMAGE_BINDING	= FreeImage
AUTORUN_TESTS	= 1
STRICT_WARNINGS = 1

LIB_DIRS	= /usr/lib/
INC_DIRS	= /usr/include/

#-------------------------------------------------------------------------
# Default variables
#-------------------------------------------------------------------------
INC_DIR		= include/
SRC_DIR		= src/allocore/
GFX_DIR		= graphics/
IO_DIR		= io/
MATH_DIR	= math/
PRO_DIR		= protocol/
SPA_DIR		= spatial/
SND_DIR		= sound/
SYS_DIR		= system/
TYP_DIR		= types/
TEST_DIR	= unitTests/

# These are defined according to platform
DEV_DIR		=

#=========================================================================
# DO NOT EDIT BELOW!
#=========================================================================

#-------------------------------------------------------------------------
# Platform specific section
#-------------------------------------------------------------------------
# Linux:
ifeq ($(PLATFORM), linux)
	INC_DIRS += $(PREFIX)include/
	LIB_DIRS += $(PREFIX)lib/
	DEV_DIR   = linux/

# Mac OS X:
else ifeq ($(PLATFORM), macosx)
	LDFLAGS	+= -framework Carbon -framework Cocoa
	DEV_DIR  = osx/

# Windows
else ifeq ($(PLATFORM), windows)
endif


#-------------------------------------------------------------------------
# Finalize compilation flags
#-------------------------------------------------------------------------

INC_DIRS += $(INC_DIR) $(DEV_DIR)include/
LIB_DIRS += $(DEV_DIR)lib/

ifeq ($(RUNTIME_BINDING), APR)
	EXT_LDFLAGS += -lapr-1
endif

VPATH = $(addprefix $(SRC_DIR), $(GFX_DIR) $(IO_DIR) $(PRO_DIR) $(MATH_DIR) $(SND_DIR) $(SPA_DIR) $(SYS_DIR) $(TYP_DIR))
