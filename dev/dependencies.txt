=======================
DEPENDENCY BUILD NOTES
=======================



OSX
===

libapr
--------------
As of version 1.4.2 libber doesn't properly compile on OSX.  Here are the steps:

1) ./configure
2) edit apr-1.4.2/include/arch/unix/apr_private.h by changing:
/* Define to 1 if you have the `fdatasync' function. */
#define HAVE_FDATASYNC 1

To:

/* Define to 1 if you have the `fdatasync' function. */
/*#define HAVE_FDATASYNC 1*/

3) make

To create a multi-architecture ("fat" file) use lip:
lipo -create -arch i386 arch_i386_libapr-1.a -arch x86_64 arch_x86_64_libapr-1.a -output libapr-1.a


LLVM/Clang 2.7
--------------

Grab the 2.7 release from http://www.llvm.org/releases/download.html#2.7
The clang-2.7 folder should be renamed 'clang' and copied into llvm-2.7/tools/

sudo make clean
env MACOSX_DEPLOYMENT_TARGET=10.5 ./configure --enable-targets=x86,x86_64 --enable-jit --enable-optimized --enable-pic
env MACOSX_DEPLOYMENT_TARGET=10.5 sudo make DARWIN_VERSION=10.5 UNIVERSAL=1 UNIVERSAL_ARCH="i386 x86_64" UNIVERSAL_SDK_PATH=/Developer/SDKs/MacOSX10.5.sdk/
sudo make install





Linux
=====

TODO: put apt-get command line here (for libapr, libportaudio, llvm/clang2.7 etc.